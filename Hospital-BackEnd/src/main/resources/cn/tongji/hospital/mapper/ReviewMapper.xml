<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="cn.tongji.hospital.mapper.ReviewMapper">

    <select id="getReviewListWithActor" resultType="cn.tongji.hospital.model.temp.ReviewWithActor">
        select telemedicine.actor.actor_id,
               telemedicine.actor.name,
               telemedicine.actor.photo as avatar,
               telemedicine.t_review.review_id,
               telemedicine.t_review.content,
               telemedicine.t_review.create_time,
               telemedicine.t_review.like_num,
               telemedicine.t_review.star_num
        from telemedicine.t_review,
             telemedicine.actor
        where actor.actor_id = t_review.actor_id
          and father = #{fatherId}
          and father_type = #{fatherType};
    </select>
</mapper>